# RF-dataset-collection-MATLAB-scripts  
MATLAB scripts that send and receive RF waveform signal samples for the sake of augmenting RF Machine Learning datasets with RF hardware characteristics.   Requires the use of the Mathworks "USRP Support from Communications" Toolbox to control certain Ettus USRP SDRs.  
  
## send_USRP_data.m  
MATLAB script that sends (transmits) the simulated radar plus noise waveforms   
Step 1: load a single simulated waveform Matlab workspace generated by the NIST CBRS band radar waveform generator (see link below)  
Step 2: Configure the USRP radio to send waveform sample data  
Step 3: Preappend 80 ms of zero amplitude IQ samples to the beginning of the radar waveform buffer as a Tx sync signal  
Step 4: Plot the time domain magnitude of the IQ samples that were sent  
Step 5: Enter loop to repeatedly send each of the waveform samples in the radar waveform dataset  
  
NIST CBRS radar waveform generator sourcecode: https://github.com/usnistgov/SimulatedRadarWaveformGenerator  
This script was tested with MATLAB 2019b  
Software was originally design and tested on a Dell Latitude 7440 running Ubuntu Linux 16.04 (i5-4300U Dual Core, 1.9 GHz, 16GB RAM)  
Tested with a USRP-N210 with Daughter Board: 'SBXv3 RX'  
  
## receive_USRP_data.m  
MATLAB script that sends (transmits) the simulated radar plus noise waveforms  
Step 1: load a single simulated waveform Matlab workspace generated by the NIST CBRS band radar waveform generator (see link below)  
Step 2: Configure the USRP radio to receive waveform sample data   
Step 3: Enter loop to receive a finite number of large USRP IQ sample buffers and store them in an array  
Step 4: Find and extract the first complete transmitted dataset in the received waveform vector  
Step 5: Plot magnitude of time domain IQ samples for basic data quality checking 
  
NIST CBRS radar waveform generator sourcecode: https://github.com/usnistgov/SimulatedRadarWaveformGenerator  
This script was tested with MATLAB 2020a on a home build PC running Ubuntu Linux 18.04 (i7-920 Quad Core, 2.67 GHz, 24GB RAM, 1TB HDD)  
Tested with a USRP-N210 with Daughter Board: 'SBXv3 RX'  
Note: because of the relatively high processing requirements for this script, I've found that it works best by   
first closing all other MATLAB plot windows before running the script from the start. Otherwise, I get overflows that corrupt the data samples.  
Also, disable any other applications or background processes that could reduce MATLAB performance.  
  
Author Info: Alex Lackpour, alackpour@gmail.com  
Date: April 5th, 2021  
Version: 1.0, public release  
